<!DOCTYPE html>
<html>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="styles.css">
<body class="w3-container">

<h2>Dynamic Progress Bar with %</h2>
<p>Centered label:</p>

<div class="w3-progress-container">
  <div id="progress1" class="w3-progressbar"  value="62" style="width:27%;background-color: green">
    <div id="progress1demo" class="w3-center w3-text-white">27%</div>
  </div>
</div>
<br>
<div class="w3-progress-container" >
  <div id="progress2" class="w3-progressbar "  value="45" style="width:20%;background-color: green">
    <div id="progress2demo" class="w3-center w3-text-white">20%</div>
  </div>
</div>
<br>
<div class="w3-progress-container" >
  <div id="progress3" class="w3-progressbar"  value="62" style="width:27%;background-color: green">
    <div id="progress3demo" class="w3-center w3-text-white">27%</div>
  </div>
</div>
<br>

<select id="selectedProgress">
  <option value="1">progress1</option>
  <option value="2">progress2</option>
  <option value="3">progress3</option>
</select>

<button class="w3-btn w3-dark-grey" onclick="move(10)">+10</button>
<button class="w3-btn w3-dark-grey" onclick="move(38)">+38</button>
<button class="w3-btn w3-dark-grey" onclick="move(-13)">-13</button>
<button class="w3-btn w3-dark-grey" onclick="move(-18)">-18</button>


<script>
function move(amount) {
  var e = document.getElementById("selectedProgress");
  var strUser = e.options[e.selectedIndex].text;
  var element = document.getElementById(strUser);
  var width = 0; 
  
  var value = element.getAttribute("value");  
  var addvalue = parseInt(value)+parseInt(amount);
  if(addvalue >= 0){
	 element.setAttribute("value",""+addvalue);
	 width=addvalue/230*100;
  }	
  width = Math.ceil(width);
  if (width >= 100) {
     element.style.backgroundColor ="red";
	 element.style.width = 100 + '%';
	 document.getElementById(strUser+"demo").innerHTML = width * 1  + '%';
  } else {
      element.style.backgroundColor ="green";
      element.style.width = width + '%';
      document.getElementById(strUser+"demo").innerHTML = width * 1  + '%';
  }
  
}
</script>

</body>
</html>

